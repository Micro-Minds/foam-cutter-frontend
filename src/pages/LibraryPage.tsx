import design1 from "../assets/design1.jpg";
import {
    getAllLibraryItems,
    saveNewLibraryItem,
} from "../service/libraryService.ts";

import {getNextLibraryId} from "../service/genarateIDs.ts";
import {useEffect, useState} from "react";
import {sendGcodeToESP} from "../service/sendGCodeToEsp.ts";
import {Modal} from "../components/Modal.tsx";
import JobCard from "../components/JobCard.tsx";
import {LibraryItem} from "../interfaces/LibraryItem.ts";


export const STAR_5: string = `G21
G90
(5-point star)
G0 X0 Y38.042
G1 X23.511 Y30.901
G1 X30.901 Y7.389
G1 X38.042 Y30.901
G1 X61.553 Y38.042
G1 X38.042 Y45.183
G1 X30.901 Y68.695
G1 X23.511 Y45.183
G1 X0 Y38.042
M30`;

const horse = `
(Header)
(Generated by gcodetools from Inkscape.)
(Using default header. To add your own header create file "header" in the output dir.)
M3
(Header end.)
G21 (All units in mm)

(Start cutting path id: path1)
(Change tool to Default tool)

G00 Z5.000000
G00 X190.609500 Y52.053040

G01 Z-1.000000 F60.0(Penetrate)
G02 X189.963244 Y52.840307 Z-1.000000 I0.634297 J1.179571 F60.000000
G02 X189.256780 Y56.468600 Z-1.000000 I16.865257 J5.166752
G02 X189.185349 Y58.683744 Z-1.000000 I20.046576 J1.755157
G02 X189.371360 Y61.479880 Z-1.000000 I32.163611 J-0.735404
G03 X188.793888 Y70.141092 Z-1.000000 I-24.560041 J2.712356
G03 X183.727650 Y84.232260 Z-1.000000 I-71.367596 J-17.702672
G03 X180.737845 Y89.894998 Z-1.000000 I-74.738194 J-35.839536
G03 X179.440430 Y91.643940 Z-1.000000 I-8.297520 J-4.799633
G02 X178.607571 Y92.655774 Z-1.000000 I7.552144 J7.064996
G02 X178.049040 Y93.571350 Z-1.000000 I5.614933 J4.053440
G03 X177.476839 Y94.467353 Z-1.000000 I-4.839201 J-2.459681
G03 X176.860090 Y95.083190 Z-1.000000 I-2.867898 J-2.255392
G02 X176.229236 Y95.683801 Z-1.000000 I2.805980 J3.578889
G02 X175.941440 Y96.143270 Z-1.000000 I1.331616 J1.153946
G03 X175.037019 Y97.591684 Z-1.000000 I-5.146481 J-2.206995
G03 X172.886590 Y99.688400 Z-1.000000 I-13.123626 J-11.308710
G02 X171.151079 Y101.219992 Z-1.000000 I19.760378 J24.140397
G02 X167.324000 Y104.977190 Z-1.000000 I115.382812 J121.356574
G02 X163.681174 Y108.893999 Z-1.000000 I64.707282 J63.833375
G02 X162.754970 Y110.189320 Z-1.000000 I6.057878 J5.310412
G03 X161.062006 Y112.347906 Z-1.000000 I-8.324360 J-4.785554
G03 X160.344180 Y112.491530 Z-1.000000 I-0.472221 J-0.494491
G03 X159.943866 Y111.903207 Z-1.000000 I0.224399 J-0.583043
G03 X160.403080 Y105.521330 Z-1.000000 I50.507656 J0.426866
G03 X160.991412 Y103.289471 Z-1.000000 I9.356106 J1.272853
G03 X162.472180 Y100.345060 Z-1.000000 I17.876743 J7.145809
G02 X163.115592 Y97.752833 Z-1.000000 I-3.747237 J-2.306059
G02 X162.019860 Y93.405090 Z-1.000000 I-12.373512 J0.806465
G03 X161.192094 Y91.445155 Z-1.000000 I33.298451 J-15.218150
G03 X160.515120 Y89.531930 Z-1.000000 I31.050216 J-12.063172
G02 X156.938092 Y79.541451 Z-1.000000 I-147.798168 J47.282593
G02 X155.356770 Y76.542540 Z-1.000000 I-14.721041 J5.846017
G03 X154.733981 Y75.489399 Z-1.000000 I8.690698 J-5.850083
G03 X154.661870 Y75.193350 Z-1.000000 I0.577607 J-0.297499
G02 X154.604263 Y74.891427 Z-1.000000 I-0.829958 J0.001899
G02 X154.308900 Y74.296090 Z-1.000000 I-3.609881 J1.420024
G03 X153.592965 Y72.719850 Z-1.000000 I6.180115 J-3.757745
G03 X152.346580 Y68.092940 Z-1.000000 I52.834952 J-16.713873
G02 X151.510880 Y64.813906 Z-1.000000 I-55.657709 J12.439004
G02 X151.121870 Y63.821360 Z-1.000000 I-5.440978 J1.559985
G02 X149.464597 Y62.094808 Z-1.000000 I-3.648290 J1.843237
G02 X148.649880 Y62.442620 Z-1.000000 I-0.272795 J0.489108
G03 X148.172108 Y62.739660 Z-1.000000 I-0.395302 J-0.103066
G03 X146.806870 Y62.062740 Z-1.000000 I0.605062 J-2.935505
G03 X145.761838 Y61.007894 Z-1.000000 I6.716009 J-7.698598
G03 X145.545980 Y60.589800 Z-1.000000 I0.779315 J-0.667124
G03 X145.509503 Y60.110903 Z-1.000000 I1.382667 J-0.346154
G03 X145.727050 Y58.653650 Z-1.000000 I13.361214 J1.249774
G02 X145.844158 Y57.218022 Z-1.000000 I-5.810015 J-1.196530
G02 X145.636050 Y56.397950 Z-1.000000 I-2.044904 J0.082491
G02 X145.173285 Y55.649947 Z-1.000000 I-4.060453 J1.994921
G02 X143.948260 Y54.184180 Z-1.000000 I-16.972057 J12.939717
G01 X142.651900 Y52.767090 Z-1.000000
G01 X141.018450 Y52.494850 Z-1.000000
G02 X136.309516 Y52.345202 Z-1.000000 I-2.912133 J17.473137
G02 X134.414560 Y53.168180 Z-1.000000 I0.345504 J3.388660
G02 X133.969594 Y54.386236 Z-1.000000 I0.885184 J1.013668
G02 X134.911020 Y56.399130 Z-1.000000 I3.905866 J-0.600166
G03 X135.489703 Y57.189334 Z-1.000000 I-4.069893 J3.587461
G03 X135.900870 Y58.044100 Z-1.000000 I-4.359603 J2.623369
G02 X136.666613 Y59.463583 Z-1.000000 I5.430328 J-2.013117
G02 X138.984610 Y62.234620 Z-1.000000 I23.404306 J-17.222885
G03 X141.789985 Y65.532553 Z-1.000000 I-29.137901 J27.628209
G03 X143.182860 Y67.746530 Z-1.000000 I-11.657615 J8.879270
G03 X143.443003 Y68.341741 Z-1.000000 I-4.810840 J2.457080
G03 X143.792040 Y69.405690 Z-1.000000 I-15.068491 J5.532568
G02 X144.177581 Y70.452116 Z-1.000000 I7.560691 J-2.191392
G02 X144.791110 Y71.619670 Z-1.000000 I10.036297 J-4.528922
G03 X145.441418 Y72.774514 Z-1.000000 I-18.368086 J11.103843
G03 X146.193940 Y74.301290 Z-1.000000 I-31.374512 J16.412794
G02 X146.979512 Y75.802467 Z-1.000000 I15.945970 J-7.388457
G02 X147.493660 Y76.517820 Z-1.000000 I4.098220 J-2.403082
G03 X148.031815 Y77.218717 Z-1.000000 I-5.449402 J4.741148
G03 X148.466320 Y77.959290 Z-1.000000 I-5.652419 J3.814108
G03 X149.785698 Y81.245308 Z-1.000000 I-18.445834 J9.314117
G03 X150.826720 Y85.698670 Z-1.000000 I-32.971273 J10.055754
G03 X151.056018 Y89.166814 Z-1.000000 I-17.663318 J2.909469
G03 X150.538780 Y94.920540 Z-1.000000 I-49.428902 J-1.543355
G03 X149.605405 Y99.732703 Z-1.000000 I-55.763570 J-8.319397
G03 X148.464270 Y103.582570 Z-1.000000 I-36.793446 J-8.811848
G02 X146.604664 Y109.780181 Z-1.000000 I61.310594 J21.774161
G02 X145.440960 Y115.843470 Z-1.000000 I57.512596 J14.181495
G03 X145.210982 Y117.095138 Z-1.000000 I-14.242151 J-1.969849
G03 X144.665540 Y119.216450 Z-1.000000 I-41.547585 J-9.552141
G02 X144.154382 Y121.342655 Z-1.000000 I25.386464 J7.227677
G02 X143.915210 Y123.025500 Z-1.000000 I15.646630 J3.082169
G03 X143.154886 Y124.770354 Z-1.000000 I-2.985846 J-0.263005
G03 X141.834410 Y125.331870 Z-1.000000 I-1.264904 J-1.141193
G03 X138.780112 Y124.683866 Z-1.000000 I0.290260 J-8.890166
G03 X133.253230 Y121.849700 Z-1.000000 I13.234657 J-32.614830
G02 X130.880607 Y120.474884 Z-1.000000 I-19.755002 J31.357983
G02 X126.972530 Y118.514410 Z-1.000000 I-44.189255 J83.212892
G02 X117.337207 Y115.089897 Z-1.000000 I-21.837059 J46.174081
G02 X110.278160 Y114.407430 Z-1.000000 I-5.868969 J23.856658
G03 X106.714898 Y114.530303 Z-1.000000 I-6.175118 J-127.347638
G03 X102.296133 Y114.570960 Z-1.000000 I-4.010467 J-195.729150
G03 X97.892561 Y114.414638 Z-1.000000 I0.137431 J-65.973786
G03 X95.954512 Y114.133470 Z-1.000000 I0.897216 J-13.004283
G02 X94.018703 Y113.806265 Z-1.000000 I-4.122119 J18.497340
G02 X90.493435 Y113.499210 Z-1.000000 I-7.102810 J61.156539
G03 X86.966797 Y113.233807 Z-1.000000 I6.051896 J-103.980231
G03 X86.535741 Y113.133700 Z-1.000000 I0.149973 J-1.623884
G03 X86.230167 Y112.870119 Z-1.000000 I0.211141 J-0.553699
G03 X85.760744 Y111.753400 Z-1.000000 I4.656195 J-2.614295
G03 X85.333861 Y109.006450 Z-1.000000 I10.284834 J-3.004935
G03 X85.333395 Y94.009540 Z-1.000000 I311.742991 J-7.508134
G01 X85.480291 Y87.894510 Z-1.000000
G01 X85.000334 Y86.419830 Z-1.000000
G03 X84.689553 Y84.235469 Z-1.000000 I6.082715 J-1.979711
G03 X85.181690 Y80.754040 Z-1.000000 I16.236593 J0.519717
G02 X85.781287 Y78.139780 Z-1.000000 I-55.538667 J-14.114042
G02 X86.149012 Y76.031870 Z-1.000000 I-35.727462 J-7.318680
G03 X86.478003 Y73.915543 Z-1.000000 I97.707233 J14.105204
G03 X86.832923 Y71.926330 Z-1.000000 I86.679577 J14.439319
G02 X87.269334 Y67.372870 Z-1.000000 I-24.321647 J-4.628668
G02 X86.852653 Y65.431090 Z-1.000000 I-4.666737 J-0.014176
G02 X86.206967 Y64.557424 Z-1.000000 I-2.365653 J1.072914
G02 X84.556528 Y63.402270 Z-1.000000 I-5.914409 J6.693657
G03 X83.376348 Y62.637671 Z-1.000000 I4.350866 J-8.008799
G03 X82.726304 Y62.004870 Z-1.000000 I2.301998 J-3.015006
G03 X82.311357 Y61.047687 Z-1.000000 I1.522319 J-1.228472
G03 X82.301904 Y58.974240 Z-1.000000 I7.652500 J-1.071633
G02 X82.258949 Y57.954922 Z-1.000000 I-2.953055 J-0.386119
G02 X81.882522 Y57.046830 Z-1.000000 I-2.701688 J0.587851
G03 X81.326084 Y56.178502 Z-1.000000 I243.641899 J-156.742070
G03 X80.811227 Y55.368480 Z-1.000000 I210.617631 J-134.438909
G02 X79.890277 Y54.576723 Z-1.000000 I-1.756712 J1.111869
G02 X77.809854 Y54.050770 Z-1.000000 I-2.609086 J5.942752
G03 X76.933821 Y53.966142 Z-1.000000 I2.413654 J-29.561687
G03 X75.148570 Y53.753850 Z-1.000000 I13.814888 J-123.787530
G02 X72.042518 Y53.956123 Z-1.000000 I-1.028880 J8.149808
G02 X71.452791 Y54.719790 Z-1.000000 I0.199593 J0.763667
G02 X71.755024 Y55.842280 Z-1.000000 I2.235574 J-0.000000
G02 X72.961075 Y57.317630 Z-1.000000 I5.195337 J-3.016392
G03 X73.302771 Y57.717030 Z-1.000000 I-1.278807 J1.439915
G03 X73.374495 Y57.961480 Z-1.000000 I-0.380708 J0.244450
G02 X73.514959 Y58.360438 Z-1.000000 I0.636809 J-0.000000
G02 X76.512406 Y61.865370 Z-1.000000 I59.010559 J-47.432131
G03 X78.165282 Y64.233387 Z-1.000000 I-8.330366 J7.575457
G03 X79.528526 Y67.647610 Z-1.000000 I-16.179216 J8.439373
G03 X80.139632 Y70.471907 Z-1.000000 I-21.093509 J6.042361
G03 X80.428704 Y73.718970 Z-1.000000 I-27.622893 J4.095545
G03 X80.176364 Y79.276985 Z-1.000000 I-36.738080 J1.116785
G03 X79.433383 Y81.895760 Z-1.000000 I-8.733882 J-1.063133
G02 X78.823356 Y83.376953 Z-1.000000 I17.708549 J8.159457
G02 X78.561212 Y84.288140 Z-1.000000 I6.417551 J2.339598
G03 X78.315424 Y85.205716 Z-1.000000 I-9.101932 J-1.946391
G03 X77.906740 Y86.311930 Z-1.000000 I-13.648370 J-4.413714
G02 X77.481423 Y87.414459 Z-1.000000 I20.324560 J8.473808
G02 X76.971159 Y88.945560 Z-1.000000 I38.700308 J13.748070
G02 X76.549439 Y90.633454 Z-1.000000 I14.525371 J4.525791
G02 X75.585890 Y96.241710 Z-1.000000 I159.905248 J30.360067
G03 X75.140825 Y98.185423 Z-1.000000 I-13.617057 J-2.095178
G03 X72.721250 Y105.584120 Z-1.000000 I-200.734528 J-61.550662
G02 X72.113388 Y107.588530 Z-1.000000 I24.641705 J8.567282
G02 X72.029302 Y108.246290 Z-1.000000 I2.530625 J0.657760
G03 X71.784850 Y110.013508 Z-1.000000 I-6.510098 J-0.000000
G03 X71.207767 Y111.159020 Z-1.000000 I-3.238724 J-0.913478
G03 X70.535136 Y111.386149 Z-1.000000 I-0.507137 J-0.392314
G03 X69.023404 Y110.575430 Z-1.000000 I0.966187 J-3.616438
G02 X67.140723 Y109.062099 Z-1.000000 I-17.247521 J19.529271
G02 X63.959165 Y106.877650 Z-1.000000 I-39.217661 J53.709745
G03 X63.115615 Y106.292602 Z-1.000000 I8.246055 J-12.790216
G03 X61.364866 Y104.945600 Z-1.000000 I42.099049 J-56.528964
G02 X59.618587 Y103.591736 Z-1.000000 I-57.365724 J72.189949
G02 X58.721507 Y102.946500 Z-1.000000 I-13.906127 J18.387627
G03 X57.865095 Y102.292816 Z-1.000000 I5.807710 J-8.496713
G03 X57.808698 Y102.170890 Z-1.000000 I0.103599 J-0.121926
G02 X57.753125 Y102.045658 Z-1.000000 I-0.168891 J0.000000
G02 X56.127207 Y100.649420 Z-1.000000 I-27.708544 J30.621780
G03 X54.506371 Y99.220643 Z-1.000000 I17.540892 J-21.532517
G03 X53.773121 Y98.405640 Z-1.000000 I4.933057 J-5.175571
G02 X53.035687 Y97.593833 Z-1.000000 I-5.336504 J4.106765
G02 X50.572145 Y95.412590 Z-1.000000 I-41.398056 J44.274024
G03 X48.106258 Y93.229490 Z-1.000000 I39.042183 J-46.583701
G03 X46.824824 Y91.909400 Z-1.000000 I12.953559 J-13.856241
G02 X45.596337 Y90.533888 Z-1.000000 I-99.178407 J87.341173
G02 X44.202317 Y89.013950 Z-1.000000 I-122.521678 J110.972191
G03 X41.896598 Y85.451556 Z-1.000000 I8.978997 J-8.338926
G03 X40.502806 Y80.273740 Z-1.000000 I18.018812 J-7.626902
G02 X39.962999 Y77.513183 Z-1.000000 I-20.654108 J2.605705
G02 X39.473874 Y76.417000 Z-1.000000 I-3.663025 J0.977253
G02 X39.133340 Y76.077312 Z-1.000000 I-0.975226 J0.637120
G02 X37.585355 Y75.189920 Z-1.000000 I-8.733720 J13.441416
G03 X35.129516 Y73.555049 Z-1.000000 I5.411357 J-10.790692
G03 X33.971437 Y72.084640 Z-1.000000 I3.166475 J-3.685135
G03 X33.801137 Y71.585158 Z-1.000000 I1.628536 J-0.834028
G03 X33.574121 Y69.948290 Z-1.000000 I17.639647 J-3.280607
G02 X32.944252 Y67.152108 Z-1.000000 I-11.023856 J1.014204
G02 X31.847897 Y65.239490 Z-1.000000 I-6.148940 J2.254172
G02 X28.938929 Y62.197543 Z-1.000000 I-22.125551 J18.246455
G02 X28.114948 Y61.869830 Z-1.000000 I-0.852982 J0.944946
G03 X27.933733 Y61.821226 Z-1.000000 I0.007233 J-0.389093
G03 X27.154096 Y61.338840 Z-1.000000 I4.571070 J-8.259028
G02 X24.866927 Y60.093059 Z-1.000000 I-7.116289 J10.342590
G02 X24.391283 Y60.187510 Z-1.000000 I-0.167421 J0.401757
G02 X24.148339 Y60.803825 Z-1.000000 I0.590578 J0.588839
G02 X24.561971 Y65.365540 Z-1.000000 I39.847088 J-1.313513
G03 X24.912172 Y67.939200 Z-1.000000 I-101.443695 J15.114225
G03 X24.946312 Y68.485290 Z-1.000000 I-4.517448 J0.556530
G02 X25.217145 Y70.177412 Z-1.000000 I5.501725 J-0.012846
G02 X26.003623 Y71.728940 Z-1.000000 I5.388385 J-1.756302
G03 X26.455431 Y72.375903 Z-1.000000 I-23.527264 J16.911581
G03 X28.333933 Y75.164530 Z-1.000000 I-435.505383 J295.396286
G02 X30.228377 Y77.941614 Z-1.000000 I154.384066 J-103.281506
G02 X31.082696 Y79.116680 Z-1.000000 I28.487760 J-19.813622
G03 X32.912477 Y81.635759 Z-1.000000 I-57.991952 J44.047648
G03 X33.863245 Y83.122060 Z-1.000000 I-19.209202 J13.335132
G02 X34.230921 Y83.739388 Z-1.000000 I53.312418 J-31.334326
G02 X34.935002 Y84.897980 Z-1.000000 I188.264586 J-113.615911
G03 X36.935945 Y88.313653 Z-1.000000 I-87.844387 J53.754246
G03 X37.330855 Y89.174150 Z-1.000000 I-5.139380 J2.879494
G02 X37.613054 Y89.903752 Z-1.000000 I19.087959 J-6.963557
G02 X38.696026 Y92.511270 Z-1.000000 I244.917758 J-100.192247
G03 X39.769146 Y95.122634 Z-1.000000 I-143.303972 J60.415855
G03 X40.316561 Y96.558850 Z-1.000000 I-42.788449 J17.131281
G02 X42.277166 Y100.546714 Z-1.000000 I19.123333 J-6.925962
G02 X45.740902 Y105.088990 Z-1.000000 I28.359397 J-18.033819
G03 X48.039999 Y107.823123 Z-1.000000 I-35.392888 J32.095132
G03 X50.320177 Y110.967610 Z-1.000000 I-44.559790 J34.710827
G02 X52.836812 Y114.643463 Z-1.000000 I251.787942 J-169.684646
G02 X57.061943 Y120.661450 Z-1.000000 I679.138043 J-472.319543
G02 X58.404847 Y122.468285 Z-1.000000 I40.652289 J-28.811762
G02 X58.788429 Y122.877980 Z-1.000000 I2.443061 J-1.902932
G03 X60.054965 Y124.343260 Z-1.000000 I-4.950920 J5.559412
G03 X60.306912 Y125.183990 Z-1.000000 I-1.276754 J0.840730
G03 X60.234328 Y125.594420 Z-1.000000 I-1.196696 J-0.000000
G03 X59.666526 Y126.937926 Z-1.000000 I-13.766264 J-5.026261
G02 X58.870413 Y129.215949 Z-1.000000 I9.599660 J4.632965
G02 X58.099764 Y133.854326 Z-1.000000 I39.468558 J8.940766
G03 X57.762108 Y136.542937 Z-1.000000 I-73.150771 J-7.821328
G03 X57.612904 Y137.227306 Z-1.000000 I-4.865277 J-0.702260
G02 X57.494523 Y137.912323 Z-1.000000 I2.910127 J0.855649
G02 X57.466302 Y139.829316 Z-1.000000 I23.034430 J1.297808
G01 X57.518052 Y141.756736 Z-1.000000
G01 X56.190162 Y143.780526 Z-1.000000
G03 X54.827849 Y145.779182 Z-1.000000 I-57.461518 J-37.702991
G03 X54.028344 Y146.835226 Z-1.000000 I-16.824868 J-11.907031
G02 X53.268737 Y147.902989 Z-1.000000 I8.244904 J6.669502
G02 X53.069103 Y148.377156 Z-1.000000 I1.388026 J0.863496
G03 X52.875084 Y148.853316 Z-1.000000 I-1.710976 J-0.419556
G03 X52.349563 Y149.595756 Z-1.000000 I-4.747836 J-2.803449
G02 X51.606029 Y150.698989 Z-1.000000 I4.837078 J4.062165
G02 X49.199019 Y155.537756 Z-1.000000 I92.088319 J48.826734
G03 X47.999941 Y157.903465 Z-1.000000 I-35.951176 J-16.735407
G03 X46.921350 Y159.681696 Z-1.000000 I-21.369837 J-11.745700
G02 X45.785543 Y161.429120 Z-1.000000 I75.317932 J50.198719
G02 X45.028065 Y162.669196 Z-1.000000 I37.175160 J23.559144
G03 X43.433294 Y165.091159 Z-1.000000 I-24.773571 J-14.576430
G03 X42.171450 Y166.564436 Z-1.000000 I-10.371416 J-7.605976
G03 X40.180523 Y168.186007 Z-1.000000 I-8.796545 J-8.767202
G03 X39.290934 Y168.451446 Z-1.000000 I-0.889589 J-1.357957
G03 X39.055549 Y168.360738 Z-1.000000 I-0.000000 J-0.350763
G03 X38.021899 Y167.302796 Z-1.000000 I8.092009 J-8.940133
G02 X36.967704 Y166.220919 Z-1.000000 I-9.529610 J8.231230
G02 X35.552713 Y165.055706 Z-1.000000 I-12.480165 J13.713678
G03 X32.168389 Y162.398725 Z-1.000000 I49.119130 J-66.049257
G03 X30.101314 Y160.540686 Z-1.000000 I21.908131 J-26.451713
G03 X28.324681 Y158.654811 Z-1.000000 I21.259046 J-21.807381
G03 X28.214470 Y158.358886 Z-1.000000 I0.342185 J-0.295925
G02 X27.968806 Y157.583700 Z-1.000000 I-1.345870 J0.000000
G02 X26.294658 Y155.634126 Z-1.000000 I-10.987267 J7.741436
G03 X25.303445 Y154.189535 Z-1.000000 I2.997448 J-3.119072
G03 X24.943354 Y152.415276 Z-1.000000 I4.259344 J-1.788116
G02 X24.582924 Y150.252976 Z-1.000000 I-6.789079 J0.020469
G02 X23.815488 Y149.093596 Z-1.000000 I-2.585885 J0.878006
G03 X23.436628 Y148.688776 Z-1.000000 I2.057646 J-2.305389
G03 X22.988580 Y148.033516 Z-1.000000 I4.994536 J-3.895930
G02 X21.934539 Y146.704765 Z-1.000000 I-5.471559 J3.257915
G02 X21.374446 Y146.478906 Z-1.000000 I-0.560093 J0.581539
G03 X20.948077 Y146.439050 Z-1.000000 I-0.000000 J-2.300524
G03 X19.752703 Y146.173046 Z-1.000000 I3.487335 J-18.490350
G02 X18.557313 Y145.996394 Z-1.000000 I-1.437469 J5.594365
G02 X17.383095 Y146.073646 Z-1.000000 I-0.229579 J5.473037
G02 X16.323282 Y146.502667 Z-1.000000 I0.470000 J2.684585
G02 X14.623945 Y147.945016 Z-1.000000 I5.813790 J8.571884
G02 X13.120096 Y149.652998 Z-1.000000 I22.142525 J21.012161
G02 X12.929978 Y150.020016 Z-1.000000 I0.780094 J0.636845
G03 X12.795859 Y150.423024 Z-1.000000 I-4.093735 J-1.138550
G03 X12.349850 Y151.510106 Z-1.000000 I-30.295797 J-11.794759
G02 X11.882220 Y153.596413 Z-1.000000 I5.282061 J2.279497
G02 X12.217759 Y155.441386 Z-1.000000 I4.422946 J0.148611
G03 X12.575902 Y156.626613 Z-1.000000 I-5.730768 J2.378402
G03 X12.840955 Y158.621626 Z-1.000000 I-16.087201 J3.152427
G02 X13.143821 Y161.093272 Z-1.000000 I24.236722 J-1.715499
G02 X14.092525 Y165.775636 Z-1.000000 I88.098291 J-15.412489
G03 X14.491085 Y167.833644 Z-1.000000 I-28.919528 J6.668244
G03 X14.759309 Y170.015956 Z-1.000000 I-32.254283 J5.071949
G02 X14.967109 Y172.208578 Z-1.000000 I186.840292 J-16.601127
G02 X15.145212 Y173.848206 Z-1.000000 I104.668539 J-10.540042
G03 X15.282081 Y175.489673 Z-1.000000 I-24.906851 J2.903233
G03 X15.337638 Y177.667522 Z-1.000000 I-43.808342 J2.207176
G02 X15.671553 Y180.005195 Z-1.000000 I8.389757 J-0.005714
G02 X16.497376 Y181.654238 Z-1.000000 I4.913387 J-1.429269
G03 X17.317332 Y183.283242 Z-1.000000 I-4.087674 J3.078387
G03 X17.644068 Y185.536953 Z-1.000000 I-7.652113 J2.259919
G02 X17.746001 Y186.898808 Z-1.000000 I9.244638 J-0.007204
G02 X18.044436 Y188.210638 Z-1.000000 I8.872580 J-1.328610
G03 X18.353553 Y189.509663 Z-1.000000 I-9.805276 J3.019559
G03 X18.337329 Y189.932451 Z-1.000000 I-1.015467 J0.172738
G03 X18.129234 Y190.279026 Z-1.000000 I-0.673220 J-0.168463
G03 X17.309581 Y190.860601 Z-1.000000 I-2.874895 J-3.183398
G02 X11.715541 Y195.844494 Z-1.000000 I7.937576 J14.540713
G02 X11.937653 Y198.466781 Z-1.000000 I1.669553 J1.179136
G02 X12.240963 Y198.589750 Z-1.000000 I0.296390 J-0.295512
G02 X12.782945 Y198.452801 Z-1.000000 I-0.020190 J-1.220834
G02 X13.319112 Y198.121649 Z-1.000000 I-1.940768 J-3.741924
G02 X13.593025 Y197.864515 Z-1.000000 I-0.880354 J-1.212259
G03 X13.879867 Y197.630463 Z-1.000000 I0.735506 J0.608603
G03 X14.885063 Y197.176581 Z-1.000000 I3.982017 J7.478800
G02 X16.935441 Y196.127157 Z-1.000000 I-3.555149 J-9.473836
G02 X19.085135 Y194.381892 Z-1.000000 I-8.100972 J-12.174757
G03 X20.769532 Y192.762988 Z-1.000000 I73.261617 J74.539705
G03 X20.835443 Y192.736876 Z-1.000000 I0.065911 J0.070129
G03 X20.962836 Y192.922368 Z-1.000000 I-0.000000 J0.136492
G03 X20.223059 Y194.328968 Z-1.000000 I-6.354481 J-2.444192
G02 X19.575278 Y195.355984 Z-1.000000 I13.026906 J8.934399
G02 X19.250533 Y196.010810 Z-1.000000 I4.955283 J2.865391
G02 X18.443462 Y198.512895 Z-1.000000 I14.371774 J6.016960
G02 X18.221651 Y200.454002 Z-1.000000 I8.382593 J1.941107
G02 X18.391027 Y200.855387 Z-1.000000 I0.560287 J0.000000
G02 X18.807705 Y201.024763 Z-1.000000 I0.416678 J-0.427843
G02 X19.376364 Y200.954917 Z-1.000000 I-0.000000 J-2.349818
G02 X19.912685 Y200.749165 Z-1.000000 I-0.571646 J-2.291951
G02 X22.259094 Y198.991550 Z-1.000000 I-4.462491 J-8.402439
G02 X25.189617 Y195.341936 Z-1.000000 I-17.355464 J-16.937245
G03 X25.880176 Y194.454272 Z-1.000000 I5.795148 J3.795900
G03 X26.644043 Y193.756766 Z-1.000000 I4.318352 J3.962176
G03 X28.196003 Y193.293760 Z-1.000000 I1.387819 J1.819332
G03 X30.261695 Y194.016941 Z-1.000000 I-0.299757 J4.168034
G02 X32.537327 Y195.119667 Z-1.000000 I4.774089 J-6.952608
G02 X34.940471 Y195.468119 Z-1.000000 I2.303885 J-7.428009
G02 X36.954004 Y195.387659 Z-1.000000 I-0.473503 J-37.084403
G02 X38.399537 Y195.235627 Z-1.000000 I-1.293724 J-19.248967
G03 X39.842965 Y195.046757 Z-1.000000 I8.361372 J58.291354
G03 X41.577869 Y194.859644 Z-1.000000 I9.940455 J84.030743
G02 X43.423007 Y194.527543 Z-1.000000 I-1.124102 J-11.537277
G02 X45.798095 Y193.741334 Z-1.000000 I-5.287600 J-19.954093
G03 X46.780129 Y193.435845 Z-1.000000 I2.427412 J6.072039
G03 X48.849175 Y193.049848 Z-1.000000 I6.053664 J26.710946
G02 X50.896787 Y192.619671 Z-1.000000 I-2.493685 J-16.958110
G02 X51.827815 Y192.231422 Z-1.000000 I-1.055561 J-3.841687
G03 X52.719995 Y191.727267 Z-1.000000 I33.297976 J57.884378
G03 X53.196653 Y191.471714 Z-1.000000 I9.025434 J16.261963
G03 X54.536826 Y190.967349 Z-1.000000 I2.803710 J5.417178
G03 X59.334482 Y189.954723 Z-1.000000 I17.160826 J69.433583
G02 X62.498756 Y189.013114 Z-1.000000 I-2.475895 J-14.107810
G02 X65.164624 Y187.457192 Z-1.000000 I-4.930430 J-11.509411
G03 X65.810617 Y187.040350 Z-1.000000 I2.961231 J3.880128
G03 X66.265107 Y186.864245 Z-1.000000 I0.930580 J1.727112
G02 X66.716872 Y186.679554 Z-1.000000 I-0.415655 J-1.661579
G02 X68.090726 Y185.792002 Z-1.000000 I-9.741549 J-16.586171
G03 X69.439264 Y184.846275 Z-1.000000 I105.509092 J149.013953
G03 X70.203727 Y184.324332 Z-1.000000 I32.896106 J47.360438
G02 X70.972182 Y183.808168 Z-1.000000 I-588.352217 J-876.758811
G02 X71.933260 Y183.161520 Z-1.000000 I-920.740982 J-1369.482912
G02 X72.880649 Y182.496148 Z-1.000000 I-16.435645 J-24.409016
G02 X73.799432 Y181.795273 Z-1.000000 I-17.321014 J-23.658931
G03 X74.743873 Y181.136074 Z-1.000000 I5.781594 J7.277192
G03 X76.681987 Y180.038385 Z-1.000000 I18.090831 J29.681897
G02 X78.620031 Y178.935048 Z-1.000000 I-15.125174 J-28.821591
G02 X81.793943 Y176.891491 Z-1.000000 I-48.890275 J-79.419550
G03 X85.814541 Y174.465274 Z-1.000000 I26.578914 J39.500693
G03 X86.733747 Y174.233686 Z-1.000000 I0.919206 J1.708438
G02 X87.214409 Y174.170221 Z-1.000000 I-0.000000 J-1.851916
G02 X87.763506 Y173.956926 Z-1.000000 I-0.709521 J-2.639992
G03 X88.318806 Y173.744313 Z-1.000000 I1.215857 J2.344090
G03 X89.964478 Y173.388256 Z-1.000000 I5.298192 J20.506786
G02 X93.071013 Y172.425224 Z-1.000000 I-2.208802 J-12.617150
G02 X97.582057 Y169.913956 Z-1.000000 I-13.394610 J-29.368296
G03 X100.638490 Y168.089986 Z-1.000000 I19.755660 J29.631800
G03 X102.834992 Y167.125286 Z-1.000000 I7.586098 J14.289677
G03 X104.555467 Y166.663215 Z-1.000000 I3.845269 J10.883435
G03 X107.062739 Y166.333506 Z-1.000000 I4.281892 J22.863499
G03 X116.246537 Y166.015625 Z-1.000000 I8.395315 J109.724296
G03 X120.259710 Y166.428106 Z-1.000000 I-0.151958 J21.207468
G02 X126.907872 Y167.723339 Z-1.000000 I126.714239 J-632.688381
G02 X130.449120 Y168.357806 Z-1.000000 I33.868104 J-178.833384
G03 X137.880159 Y169.703639 Z-1.000000 I-53.469395 J316.420449
G03 X140.441980 Y170.289316 Z-1.000000 I-7.374354 J38.151973
G02 X146.130957 Y171.448911 Z-1.000000 I12.917053 J-48.836214
G02 X149.954410 Y171.664556 Z-1.000000 I3.144544 J-21.750468
G02 X154.642586 Y171.191004 Z-1.000000 I-1.043950 J-33.778437
G02 X156.732100 Y170.498046 Z-1.000000 I-1.251150 J-7.269452
G03 X157.665550 Y170.098105 Z-1.000000 I3.529306 J6.948004
G03 X159.755100 Y169.430096 Z-1.000000 I12.112713 J34.286790
G02 X162.279322 Y168.504456 Z-1.000000 I-5.134643 J-17.906783
G02 X165.520210 Y166.829906 Z-1.000000 I-14.099767 J-31.261831
G03 X171.100881 Y163.874266 Z-1.000000 I37.085923 J63.277150
G03 X173.303110 Y163.127766 Z-1.000000 I4.271808 J8.980527
G03 X174.756868 Y162.955151 Z-1.000000 I1.667934 J7.839225
G03 X180.029070 Y162.947966 Z-1.000000 I2.777711 J103.908095
G02 X188.076906 Y162.352531 Z-1.000000 I0.991125 J-41.288586
G02 X191.531830 Y160.953246 Z-1.000000 I-1.505632 J-8.682362
G02 X195.319035 Y157.795028 Z-1.000000 I-14.309237 J-21.008887
G02 X197.573910 Y154.827986 Z-1.000000 I-10.335170 J-10.194805
G02 X199.691729 Y150.559094 Z-1.000000 I-34.110211 J-19.582024
G02 X200.410460 Y148.117236 Z-1.000000 I-10.336639 J-4.369167
G03 X200.598455 Y147.157746 Z-1.000000 I23.057323 J4.019502
G03 X200.914010 Y145.804336 Z-1.000000 I46.207710 J10.060102
G02 X201.184344 Y143.755160 Z-1.000000 I-8.927110 J-2.220115
G02 X201.091910 Y136.232216 Z-1.000000 I-121.857580 J-2.264776
G03 X201.032299 Y132.253039 Z-1.000000 I70.562986 J-3.047116
G03 X201.176910 Y129.792526 Z-1.000000 I27.087444 J0.357494
G02 X201.280717 Y127.342864 Z-1.000000 I-19.726286 J-2.062951
G02 X201.096710 Y125.679996 Z-1.000000 I-9.232779 J0.180051
G02 X200.364078 Y123.814421 Z-1.000000 I-5.694204 J1.159533
G02 X199.913650 Y123.739630 Z-1.000000 I-0.257491 J0.156994
G02 X199.728454 Y124.045723 Z-1.000000 I0.350576 J0.421180
G02 X199.720540 Y124.638590 Z-1.000000 I1.471702 J0.316132
G03 X199.517598 Y124.736049 Z-1.000000 I-0.114580 J0.021432
G03 X198.862740 Y123.641610 Z-1.000000 I2.835834 J-2.439958
G03 X198.458585 Y121.689165 Z-1.000000 I5.704600 J-2.198901
G03 X198.656570 Y118.531410 Z-1.000000 I15.382794 J-0.620615
G02 X198.966169 Y112.604198 Z-1.000000 I-25.873647 J-4.323163
G02 X198.185280 Y110.838300 Z-1.000000 I-2.771036 J0.169760
G02 X197.912290 Y110.715906 Z-1.000000 I-0.290692 J0.282728
G02 X197.622290 Y110.813700 Z-1.000000 I-0.018525 J0.423949
G02 X197.445661 Y111.118662 Z-1.000000 I0.327301 J0.393199
G02 X197.321450 Y112.531820 Z-1.000000 I8.165326 J1.429736
G03 X197.226471 Y114.130440 Z-1.000000 I-13.936097 J-0.025858
G03 X197.142611 Y114.269415 Z-1.000000 I-0.195018 J-0.022889
G03 X197.056609 Y114.236112 Z-1.000000 I-0.031620 J-0.046043
G03 X196.839910 Y112.862650 Z-1.000000 I9.202445 J-2.155750
G03 X197.093084 Y108.299364 Z-1.000000 I16.520783 J-1.372082
G03 X198.654370 Y103.613210 Z-1.000000 I19.001090 J3.727429
G03 X201.489382 Y99.454774 Z-1.000000 I15.280138 J7.371625
G03 X204.578820 Y97.218580 Z-1.000000 I7.146342 J6.620887
G02 X205.470547 Y96.681251 Z-1.000000 I-1.926128 J-4.205115
G02 X205.587720 Y96.443470 Z-1.000000 I-0.182680 J-0.237781
G02 X205.274269 Y96.185126 Z-1.000000 I-0.263188 J0.000000
G02 X202.969830 Y96.952790 Z-1.000000 I1.797340 J9.238078
G03 X201.786414 Y97.492898 Z-1.000000 I-12.425688 J-25.659059
G03 X201.642020 Y97.522570 Z-1.000000 I-0.144394 J-0.336499
G02 X201.510095 Y97.570770 Z-1.000000 I0.000000 J0.204643
G02 X200.366580 Y98.598080 Z-1.000000 I15.812941 J18.751712
G03 X199.216974 Y99.561443 Z-1.000000 I-7.887327 J-8.244538
G03 X199.004010 Y99.595110 Z-1.000000 I-0.139221 J-0.190262
G03 X198.677397 Y99.152291 Z-1.000000 I0.148688 J-0.451529
G03 X198.972410 Y97.872660 Z-1.000000 I2.707520 J-0.049617
G03 X201.542881 Y93.707270 Z-1.000000 I26.829464 J13.680706
G03 X204.128300 Y90.864030 Z-1.000000 I14.954057 J11.000933
G02 X205.161044 Y89.827009 Z-1.000000 I-8.367406 J-9.365654
G02 X205.157380 Y89.702570 Z-1.000000 I-0.068025 J-0.060271
G02 X204.864419 Y89.657438 Z-1.000000 I-0.177169 J0.176641
G02 X201.460330 Y91.632860 Z-1.000000 I20.414049 J39.098631
G02 X200.541159 Y92.368118 Z-1.000000 I3.053881 J4.759928
G02 X199.131440 Y93.931870 Z-1.000000 I12.711971 J12.877126
G03 X197.267465 Y95.689779 Z-1.000000 I-7.203558 J-5.771020
G03 X196.718690 Y95.643020 Z-1.000000 I-0.246736 J-0.347903
G03 X196.645746 Y95.193169 Z-1.000000 I0.276489 J-0.275673
G03 X198.604570 Y91.859590 Z-1.000000 I25.153375 J12.537927
G02 X199.576799 Y90.346747 Z-1.000000 I-25.678446 J-17.571081
G02 X199.566620 Y90.262930 Z-1.000000 I-0.058739 J-0.035393
G02 X199.179912 Y90.245857 Z-1.000000 I-0.202651 J0.202056
G02 X196.859660 Y92.536620 Z-1.000000 I13.059504 J15.548064
G02 X196.174414 Y93.409120 Z-1.000000 I9.206546 J7.935999
G02 X194.813260 Y95.402410 Z-1.000000 I46.826144 J33.437464
G03 X193.470750 Y97.409177 Z-1.000000 I-88.242332 J-57.580920
G03 X193.227300 Y97.715310 Z-1.000000 I-2.281117 J-1.564175
G02 X192.483628 Y98.782566 Z-1.000000 I3.585980 J3.291464
G02 X191.381610 Y101.308130 Z-1.000000 I19.428918 J9.980928
G03 X190.604660 Y102.317224 Z-1.000000 I-1.975443 J-0.717336
G03 X190.220310 Y102.114310 Z-1.000000 I-0.139585 J-0.201072
G03 X190.302748 Y101.294099 Z-1.000000 I4.408672 J0.028858
G03 X190.590690 Y100.223010 Z-1.000000 I7.912947 J1.553000
G02 X190.920489 Y99.172882 Z-1.000000 I-19.173348 J-6.598365
G02 X190.905690 Y99.115730 Z-1.000000 I-0.056111 J-0.015962
G02 X190.321489 Y99.130692 Z-1.000000 I-0.285014 J0.284169
G02 X188.443970 Y101.851600 Z-1.000000 I9.573799 J8.614477
G02 X187.595960 Y104.120862 Z-1.000000 I9.172621 J4.720835
G02 X187.051020 Y107.545130 Z-1.000000 I20.529210 J5.022525
G03 X186.691012 Y109.658888 Z-1.000000 I-11.510426 J-0.872881
G03 X186.431510 Y109.858030 Z-1.000000 I-0.259502 J-0.069508
G03 X186.278507 Y109.717613 Z-1.000000 I0.000000 J-0.153567
G03 X186.209280 Y107.272320 Z-1.000000 I21.230698 J-1.824677
G02 X186.119110 Y104.954318 Z-1.000000 I-17.065340 J-0.496916
G02 X185.951090 Y104.865640 Z-1.000000 I-0.113858 J0.012215
G02 X185.237614 Y105.518241 Z-1.000000 I0.930646 J1.733774
G02 X184.053050 Y107.751960 Z-1.000000 I11.241771 J7.392577
G02 X183.646768 Y109.224067 Z-1.000000 I5.692148 J2.363075
G02 X183.349670 Y112.566450 Z-1.000000 I29.442449 J4.301479
G02 X183.338249 Y115.943968 Z-1.000000 I58.492149 J1.886565
G02 X183.477450 Y117.577730 Z-1.000000 I13.778321 J-0.351138
G02 X184.447975 Y122.341811 Z-1.000000 I42.597209 J-6.196884
G02 X185.646920 Y125.816796 Z-1.000000 I23.796625 J-6.266028
G01 X186.301990 Y127.336486 Z-1.000000
G01 X186.116320 Y129.877526 Z-1.000000
G02 X186.098796 Y132.403011 Z-1.000000 I19.096801 J1.395313
G02 X186.363800 Y134.063066 Z-1.000000 I8.468717 J-0.500729
G03 X186.717462 Y135.686135 Z-1.000000 I-18.689415 J4.922432
G03 X186.670650 Y135.834206 Z-1.000000 I-0.166396 J0.028829
G03 X186.281419 Y135.800612 Z-1.000000 I-0.180530 J-0.179989
G03 X185.437210 Y134.075806 Z-1.000000 I5.042323 J-3.536977
G02 X184.915561 Y132.786203 Z-1.000000 I-7.763133 J2.389908
G02 X184.774146 Y132.778480 Z-1.000000 I-0.072943 J0.037063
G02 X184.679151 Y133.080175 Z-1.000000 I0.488794 J0.319710
G02 X184.696420 Y135.208376 Z-1.000000 I27.304785 J0.842611
G02 X185.078710 Y137.552090 Z-1.000000 I10.370750 J-0.488567
G02 X186.661870 Y142.139716 Z-1.000000 I41.713634 J-11.828125
G01 X187.370410 Y143.871866 Z-1.000000
G01 X186.964660 Y145.030836 Z-1.000000
G02 X186.685478 Y146.211260 Z-1.000000 I5.487210 J1.921006
G02 X186.560860 Y148.174976 Z-1.000000 I15.173256 J1.948712
G03 X186.456823 Y150.134283 Z-1.000000 I-18.244717 J0.013639
G03 X186.291700 Y150.680616 Z-1.000000 I-1.528947 J-0.163986
G03 X182.752341 Y153.299755 Z-1.000000 I-4.456520 J-2.321277
G03 X180.229950 Y151.805956 Z-1.000000 I-0.406563 J-2.190010
G03 X180.148082 Y151.117453 Z-1.000000 I1.661244 J-0.546654
G03 X180.401080 Y149.703036 Z-1.000000 I7.485922 J0.609180
G02 X180.672070 Y148.268183 Z-1.000000 I-8.173732 J-2.286731
G02 X180.795610 Y145.792026 Z-1.000000 I-24.343516 J-2.455699
G02 X180.468052 Y142.941925 Z-1.000000 I-12.641461 J0.008990
G02 X179.210160 Y138.961996 Z-1.000000 I-26.095352 J6.058922
G03 X177.886731 Y135.375825 Z-1.000000 I57.958945 J-23.426271
G03 X176.500950 Y130.866856 Z-1.000000 I90.275025 J-30.212445
G03 X176.244468 Y129.797593 Z-1.000000 I13.941707 J-3.909560
G03 X175.710520 Y126.915656 Z-1.000000 I100.892847 J-20.183259
G02 X175.171436 Y124.036324 Z-1.000000 I-89.516447 J15.269604
G02 X174.983210 Y123.349940 Z-1.000000 I-5.252182 J1.071301
G03 X174.838392 Y122.660501 Z-1.000000 I2.626490 J-0.911628
G03 X174.759150 Y120.555180 Z-1.000000 I24.782664 J-1.986946
G03 X174.956254 Y118.468747 Z-1.000000 I11.702356 J0.052990
G03 X175.547210 Y116.314870 Z-1.000000 I13.097219 J2.435453
G03 X177.627301 Y111.321480 Z-1.000000 I59.039298 J21.663994
G03 X178.743620 Y109.485070 Z-1.000000 I8.990321 J4.207545
G03 X181.434744 Y106.374195 Z-1.000000 I27.894488 J21.411240
G03 X183.295910 Y104.806310 Z-1.000000 I8.821714 J8.583262
G02 X185.074303 Y103.362543 Z-1.000000 I-8.019627 J-11.695532
G02 X185.996210 Y102.225520 Z-1.000000 I-4.001050 J-4.186338
G02 X186.301153 Y101.598503 Z-1.000000 I-2.912642 J-1.804191
G02 X187.159730 Y99.045280 Z-1.000000 I-48.030934 J-17.572429
G03 X187.974524 Y96.469410 Z-1.000000 I155.545652 J47.785068
G03 X188.981720 Y93.447310 Z-1.000000 I215.172429 J70.033124
G02 X190.851817 Y87.740705 Z-1.000000 I-235.657990 J-80.386591
G02 X191.457570 Y85.572590 Z-1.000000 I-33.378277 J-10.494293
G03 X191.854463 Y84.352458 Z-1.000000 I8.402982 J2.058764
G03 X193.000890 Y81.804280 Z-1.000000 I37.966972 J15.549384
G02 X194.150601 Y79.258731 Z-1.000000 I-38.452929 J-18.899890
G02 X194.449450 Y78.296510 Z-1.000000 I-5.152627 J-2.127833
G03 X194.759797 Y77.348134 Z-1.000000 I4.628916 J0.989802
G03 X195.266810 Y76.475310 Z-1.000000 I4.418845 J1.983182
G02 X198.501413 Y71.309330 Z-1.000000 I-34.589439 J-25.253315
G02 X198.949130 Y69.541590 Z-1.000000 I-3.385739 J-1.798075
G02 X198.549129 Y67.995205 Z-1.000000 I-3.094461 J-0.024487
G02 X197.552770 Y67.069400 Z-1.000000 I-1.953616 J1.103451
G03 X196.555975 Y66.173873 Z-1.000000 I0.995775 J-2.110902
G03 X196.171320 Y64.804560 Z-1.000000 I2.244948 J-1.369313
G03 X196.372597 Y63.917855 Z-1.000000 I2.053784 J0.000000
G03 X197.278560 Y62.491310 Z-1.000000 I6.398954 J3.062866
G02 X197.803693 Y61.545197 Z-1.000000 I-2.359447 J-1.928387
G02 X197.977810 Y60.437860 Z-1.000000 I-3.095464 J-1.054086
G02 X197.668848 Y56.503651 Z-1.000000 I-31.803630 J0.518374
G02 X197.272440 Y55.449120 Z-1.000000 I-2.565828 J0.362746
G02 X195.878839 Y53.939481 Z-1.000000 I-5.180817 J3.384535
G02 X192.769840 Y51.964890 Z-1.000000 I-12.171091 J15.728557
G02 X191.750064 Y51.740960 Z-1.000000 I-0.935996 J1.828533
G02 X190.609440 Y52.053090 Z-1.000000 I0.107474 J2.632916
G01 X190.609500 Y52.053040 Z-1.000000
G00 Z5.000000

(End cutting path id: path1)


(Footer)
M5
G00 X0.0000 Y0.0000
M2
(Using default footer. To add your own footer create file "footer" in the output dir.)
(end)
`;


/*const restartCommands = `$X         ; Unlock GRBL
G21        ; Set units to mm
G90        ; Absolute positioning
G94        ; Feedrate mode: units per minute
G92 X0 Y0 Z0 ; Set current position as 0`;*/

export function LibraryPage() {

    const [isModalOpen, setModalOpen] = useState(false);
    const [formData, setFormData] = useState({
        gcode:"",
        title: "",
        description: "",
        image: "",
        feedRate: 100,
        size:"",
        stepSize:1,
        time: 1
    });
    const [items, setItems] = useState<LibraryItem[]>([]);

    async function fetchData() {
        const result:LibraryItem[]= await getAllLibraryItems();
        setItems(result);
        console.log(items);
    }
    useEffect(() => {
        fetchData();
    }, []);

    const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {
        event.preventDefault();
        console.log("Submitted:", formData);
        setModalOpen(false);
        const id = await getNextLibraryId();
        const ref = saveNewLibraryItem(id, formData.gcode, formData.feedRate, formData.size, formData.stepSize,
            formData.time, formData.image, formData.title, formData.description)
        console.log(ref);
        fetchData();


    };


    const handleSend = async (title: string) => {

        //updateFeedRateAndStepSize(STAR_5, 1, 400);
        alert(
            `⚠️ Preparing to print "${title}"\n\nPlease ensure the CNC is connected and the rigifoam is properly held before starting the print.`
        );
        await sendGcodeToESP(horse);

    };

    const handleAdd = async () => {
        setModalOpen(true);
    };
/*
    const handleUpdate = (title: string) => {
        alert(`✏️ Update "${title}": Implement update form or modal here.`);
        // test update item function
        //updateLibraryItem("C012",STAR_5,100,20,1,5.1)
    };

    const handleDelete = (title: string) => {
        const confirmDelete = confirm(`❌ Are you sure you want to delete "${title}"?`);
        if (confirmDelete) {
            alert(`Deleted "${title}" (you should now remove it from the list).`);
            // delete
            const deleted = deleteLibraryItem("C013");
            console.log(deleted);
        }
    };*/


    return (
        <div className="bg-[#f0ede7] min-h-screen p-8">
            <div className="flex justify-between items-center mb-8">
              {/*  <h1 className="text-3xl font-bold text-center w-full">Design Library</h1>*/}
                <button
                    onClick={handleAdd}
                    className="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition ml-4 min-w-[160px] text-center"
                >
                    + Add Design
                </button>
            </div>


            <Modal
                isOpen={isModalOpen}
                onClose={() => setModalOpen(false)}
                onSubmit={handleSubmit}
                formData={formData}
                setFormData={setFormData}
            />


            {items.length === 0 ? (
                <p>No designs in the library.</p>
            ) : (
                <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
                    {items.map((item) => (
                        <JobCard
                            key={item.id}
                            title={item.title}
                            feedRate={item.feedRate}
                            estimatedTime={item.time}
                            size={item.size}
                            description={item.description}
                            gcode={item.gcode}
                            imageUrl={item.image || design1}
                            onSend={() => handleSend(item.gcode)}
                        />
                    ))}
                </div>
            )}

        </div>
    );
}